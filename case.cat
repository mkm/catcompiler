fun f : int -> int
  n => case n of
    0 => 0
  | 1 => f 42
  | x => case write x of
      y => f read
    end
  end
end

f 2